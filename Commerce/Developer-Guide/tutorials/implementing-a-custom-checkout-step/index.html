



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Liferay Learn - Intuitive, Readable, and Practical Resources for Learning Liferay">
      
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../../../images/favicon.ico">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.4.2">
    
    
      
        <title>Implementing a Custom Checkout Step - Liferay Learn</title>
      
    
    
      <link rel="stylesheet" href="../../../../assets/stylesheets/application.30686662.css">
      
        <link rel="stylesheet" href="../../../../assets/stylesheets/application-palette.a8b3c06d.css">
      
      
        
        
        <meta name="theme-color" content="#3f51b5">
      
    
    
      <script src="../../../../assets/javascripts/modernizr.74668098.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../../../assets/fonts/material-icons.css">
    
    
    
      
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#implementing-a-custom-checkout-step" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="../../../.." title="Liferay Learn" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              Liferay Learn
            </span>
            <span class="md-header-nav__topic">
              
                Implementing a Custom Checkout Step
              
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  

<a href="https://github.com/jrhoun/jrhoun-help/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    GitHub
  </div>
</a>
          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
        

  

<nav class="md-tabs md-tabs--active" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  <li class="md-tabs__item">
    
      <a href="../../../.." class="md-tabs__link">
        Home
      </a>
    
  </li>

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../../../Analytics-Cloud/" class="md-tabs__link">
          Analytics Cloud
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../../Welcome-to-Liferay-Commerce/" class="md-tabs__link md-tabs__link--active">
          Commerce
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../../../DXP/" class="md-tabs__link">
          DXP
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../../../DXP-Cloud/" class="md-tabs__link">
          DXP Cloud
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../../../Other-Projects/" class="md-tabs__link">
          Other Projects
        </a>
      
    </li>
  

      
    </ul>
  </div>
</nav>
      
      <main class="md-main" role="main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="../../../.." title="Liferay Learn" class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </a>
    Liferay Learn
  </label>
  
    <div class="md-nav__source">
      


  

<a href="https://github.com/jrhoun/jrhoun-help/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../../../.." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      Analytics Cloud
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        Analytics Cloud
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../Analytics-Cloud/" title="Welcome to Analytics Cloud" class="md-nav__link">
      Welcome to Analytics Cloud
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3" checked>
    
    <label class="md-nav__link" for="nav-3">
      Commerce
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Commerce
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Welcome-to-Liferay-Commerce/" title="Welcome to Liferay Commerce" class="md-nav__link">
      Welcome to Liferay Commerce
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-2" type="checkbox" id="nav-3-2" checked>
    
    <label class="md-nav__link" for="nav-3-2">
      Developer Guide
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-3-2">
        Developer Guide
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../" title="Introduction to the Liferay Commerce Developer Guide" class="md-nav__link">
      Introduction to the Liferay Commerce Developer Guide
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-2-2" type="checkbox" id="nav-3-2-2" checked>
    
    <label class="md-nav__link" for="nav-3-2-2">
      Tutorials
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-3-2-2">
        Tutorials
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../adding-a-new-product-type/" title="Adding a New Product Type" class="md-nav__link">
      Adding a New Product Type
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Implementing a Custom Checkout Step
      </label>
    
    <a href="./" title="Implementing a Custom Checkout Step" class="md-nav__link md-nav__link--active">
      Implementing a Custom Checkout Step
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    Overview
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deploy-an-example" class="md-nav__link">
    Deploy an Example
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#walk-through-the-example" class="md-nav__link">
    Walk Through the Example
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#annotate-the-class-for-osgi-registration" class="md-nav__link">
    Annotate the Class for OSGi Registration
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#review-the-commercecheckoutstep-interface" class="md-nav__link">
    Review the CommerceCheckoutStep Interface
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#complete-the-checkout-step" class="md-nav__link">
    Complete the Checkout Step
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#configure-the-servletcontext-for-the-module" class="md-nav__link">
    Configure the ServletContext for the Module
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#implement-the-render-method" class="md-nav__link">
    Implement the render Method
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#add-business-logic-to-processaction" class="md-nav__link">
    Add Business Logic to processAction
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#add-a-jsp-to-render-the-custom-screen" class="md-nav__link">
    Add a JSP to Render the Custom Screen
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#add-the-language-key-to-languageproperties" class="md-nav__link">
    Add the Language Key to Language.properties
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#conclusion" class="md-nav__link">
    Conclusion
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#additional-information" class="md-nav__link">
    Additional Information
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-3" type="checkbox" id="nav-3-3">
    
    <label class="md-nav__link" for="nav-3-3">
      Get Help
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-3-3">
        Get Help
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Get-Help/" title="Get Help" class="md-nav__link">
      Get Help
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-3-2" type="checkbox" id="nav-3-3-2">
    
    <label class="md-nav__link" for="nav-3-3-2">
      Commerce Enterprise Support
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-3-3-2">
        Commerce Enterprise Support
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Get-Help/Commerce-Enterprise-Support/liferay-commerce-fix-delivery-method/" title="Liferay Commerce Fix Delivery Method" class="md-nav__link">
      Liferay Commerce Fix Delivery Method
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-4" type="checkbox" id="nav-3-4">
    
    <label class="md-nav__link" for="nav-3-4">
      Installation and Upgrades
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-3-4">
        Installation and Upgrades
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Installation-and-Upgrades/quick-start-guide/" title="Quick Start Guide" class="md-nav__link">
      Quick Start Guide
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-4-2" type="checkbox" id="nav-3-4-2">
    
    <label class="md-nav__link" for="nav-3-4-2">
      Installation Guide
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-3-4-2">
        Installation Guide
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Installation-and-Upgrades/Installation-Guide/deploying-liferay-commerce-to-an-existing-liferay-installation/" title="Deploying Liferay Commerce to an Existing Liferay Installation" class="md-nav__link">
      Deploying Liferay Commerce to an Existing Liferay Installation
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Installation-and-Upgrades/Installation-Guide/installation-overview/" title="Installation Overview" class="md-nav__link">
      Installation Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Installation-and-Upgrades/Installation-Guide/using-the-liferay-commerce-tomcat-bundle/" title="Using the Liferay Commerce Tomcat Bundle" class="md-nav__link">
      Using the Liferay Commerce Tomcat Bundle
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-4-3" type="checkbox" id="nav-3-4-3">
    
    <label class="md-nav__link" for="nav-3-4-3">
      Upgrades and Updates
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-3-4-3">
        Upgrades and Updates
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Installation-and-Upgrades/Upgrades-and-Updates/Maintenance-Versions/" title="Maintenance Versions" class="md-nav__link">
      Maintenance Versions
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Installation-and-Upgrades/Upgrades-and-Updates/Upgrading-From-Liferay-Commerce-1.1.x/" title="Upgrading from Liferay Commerce 1.1.x" class="md-nav__link">
      Upgrading from Liferay Commerce 1.1.x
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-5" type="checkbox" id="nav-3-5">
    
    <label class="md-nav__link" for="nav-3-5">
      User Guide
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-3-5">
        User Guide
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-5-1" type="checkbox" id="nav-3-5-1">
    
    <label class="md-nav__link" for="nav-3-5-1">
      Getting Started
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-3-5-1">
        Getting Started
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../User-Guide/Getting-Started/accelerators/" title="Accelerators" class="md-nav__link">
      Accelerators
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../User-Guide/Getting-Started/store-setup-overview/" title="Store Setup Overview" class="md-nav__link">
      Store Setup Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../User-Guide/Getting-Started/using-the-minium-accelerator-to-jump-start-a-b2b-store/" title="Using the Minium Accelerator to Jump-Start a B2B Store" class="md-nav__link">
      Using the Minium Accelerator to Jump-Start a B2B Store
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-5-2" type="checkbox" id="nav-3-5-2">
    
    <label class="md-nav__link" for="nav-3-5-2">
      Catalog
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-3-5-2">
        Catalog
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../User-Guide/catalog/introduction-to-channels/" title="Introduction to Channels" class="md-nav__link">
      Introduction to Channels
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../User-Guide/catalog/introduction-to-product-types/" title="Introduction to Product Types" class="md-nav__link">
      Introduction to Product Types
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-5-3" type="checkbox" id="nav-3-5-3">
    
    <label class="md-nav__link" for="nav-3-5-3">
      Content
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-3-5-3">
        Content
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../User-Guide/content/creating-your-storefront/" title="Creating Your Storefront" class="md-nav__link">
      Creating Your Storefront
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-5-4" type="checkbox" id="nav-3-5-4">
    
    <label class="md-nav__link" for="nav-3-5-4">
      Customers
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-3-5-4">
        Customers
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../User-Guide/customers/Introduction-to-Accounts/" title="Introduction to Accounts" class="md-nav__link">
      Introduction to Accounts
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-5-5" type="checkbox" id="nav-3-5-5">
    
    <label class="md-nav__link" for="nav-3-5-5">
      Marketing
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-3-5-5">
        Marketing
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../User-Guide/marketing/automating-store-emails-by-using-notification-templates/" title="Automating Store Emails by Using Notification Templates" class="md-nav__link">
      Automating Store Emails by Using Notification Templates
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-5-6" type="checkbox" id="nav-3-5-6">
    
    <label class="md-nav__link" for="nav-3-5-6">
      Operations
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-3-5-6">
        Operations
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../User-Guide/operations/creating-tax-categories/" title="Creating Tax Categories" class="md-nav__link">
      Creating Tax Categories
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-5-7" type="checkbox" id="nav-3-5-7">
    
    <label class="md-nav__link" for="nav-3-5-7">
      Sales
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-3-5-7">
        Sales
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../User-Guide/sales/order-life-cycle/" title="Order Life Cycle" class="md-nav__link">
      Order Life Cycle
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      DXP
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        DXP
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../DXP/" title="Welcome to DXP" class="md-nav__link">
      Welcome to DXP
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      DXP Cloud
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        DXP Cloud
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../DXP-Cloud/" title="Welcome to DXP Cloud" class="md-nav__link">
      Welcome to DXP Cloud
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      Other Projects
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        Other Projects
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../Other-Projects/" title="Other Liferay Projects" class="md-nav__link">
      Other Liferay Projects
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    Overview
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deploy-an-example" class="md-nav__link">
    Deploy an Example
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#walk-through-the-example" class="md-nav__link">
    Walk Through the Example
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#annotate-the-class-for-osgi-registration" class="md-nav__link">
    Annotate the Class for OSGi Registration
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#review-the-commercecheckoutstep-interface" class="md-nav__link">
    Review the CommerceCheckoutStep Interface
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#complete-the-checkout-step" class="md-nav__link">
    Complete the Checkout Step
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#configure-the-servletcontext-for-the-module" class="md-nav__link">
    Configure the ServletContext for the Module
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#implement-the-render-method" class="md-nav__link">
    Implement the render Method
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#add-business-logic-to-processaction" class="md-nav__link">
    Add Business Logic to processAction
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#add-a-jsp-to-render-the-custom-screen" class="md-nav__link">
    Add a JSP to Render the Custom Screen
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#add-the-language-key-to-languageproperties" class="md-nav__link">
    Add the Language Key to Language.properties
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#conclusion" class="md-nav__link">
    Conclusion
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#additional-information" class="md-nav__link">
    Additional Information
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/jrhoun/jrhoun-help/edit/read-the-docs-testing/docs/Commerce/Developer-Guide/tutorials/implementing-a-custom-checkout-step.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <h1 id="implementing-a-custom-checkout-step">Implementing a Custom Checkout Step</h1>
<p>This tutorial will show you how to add a custom checkout step by implementing the <a href="https://github.com/liferay/com-liferay-commerce/blob/2.0.4/commerce-api/src/main/java/com/liferay/commerce/util/CommerceCheckoutStep.java">CommerceCheckoutStep</a> interface.</p>
<p>A checkout step represents one screen of the checkout process for a customer. Liferay Commerce provides several checkout steps out-of-the-box, including essential steps like <a href="https://github.com/liferay/com-liferay-commerce/blob/2.0.4/commerce-checkout-web/src/main/java/com/liferay/commerce/checkout/web/internal/util/PaymentMethodCommerceCheckoutStep.java">the payment method step</a> and the <a href="https://github.com/liferay/com-liferay-commerce/blob/2.0.4/commerce-checkout-web/src/main/java/com/liferay/commerce/checkout/web/internal/util/OrderConfirmationCommerceCheckoutStep.java">order confirmation step</a>.</p>
<p><img alt="Out-of-the-box checkout steps" src="images/01.png" title="Out-of-the-box checkout steps" /></p>
<h2 id="overview">Overview</h2>
<ol>
<li><a href="#deploy-an-example"><strong>Deploy an Example</strong></a></li>
<li><a href="#walk-through-the-example"><strong>Walk Through the Example</strong></a></li>
<li><a href="#additional-information"><strong>Additional Information</strong></a></li>
</ol>
<h2 id="deploy-an-example">Deploy an Example</h2>
<p>In this section, we will get an example checkout step up and running on your instance of Liferay Commerce. Follow these steps:</p>
<ol>
<li>
<p>Start Liferay Commerce.</p>
<p><code>bash
docker run -it -p 8080:8080 liferay/commerce:2.0.4</code></p>
</li>
<li>
<p>Download and unzip <a href="./implementing-a-custom-checkout-step/liferay-n8n6.zip">Acme Commerce Checkout Step</a>.</p>
<p><code>bash
curl liferay-n8n6.zip</code></p>
<p><code>bash
unzip liferay-n8n6.zip</code></p>
</li>
<li>
<p>Go to <code>liferay-n8n6</code>.</p>
<p><code>bash
cd liferay-n8n6</code></p>
</li>
<li>
<p>Build and deploy the example.</p>
<p><code>bash
./gradlew deploy -Ddeploy.docker.container.id=$(docker ps -lq)</code></p>
<blockquote>
<p><strong>Note:</strong> This command is the same as copying the deployed jars to /opt/liferay/osgi/modules on the Docker container.</p>
</blockquote>
</li>
<li>
<p>Confirm the deployment in the Docker container console.</p>
<p><code>bash
STARTED com.acme.n8n6.web_1.0.0</code></p>
</li>
<li>
<p>Verify that the example checkout step was added. Open your browser to <code>https://localhost:8080</code> and navigate to a catalog on any Liferay Commerce site. Add an item to the cart, view the cart, and then click "Checkout". The new "Example Step" will be present in the list of checkout steps.</p>
</li>
</ol>
<p><img alt="New checkout step" src="images/02.png" title="New checkout step" /></p>
<p>Congratulations, you've successfully built and deployed a new checkout step that implements <code>CommerceCheckoutStep</code>.</p>
<p>Next, let's dive deeper to learn more.</p>
<h2 id="walk-through-the-example">Walk Through the Example</h2>
<p>In this section, we will review the example we deployed. First, we will annotate the class for OSGi registration. Second, we will review the <code>CommerceCheckoutStep</code> interface. And third, we will complete our implementation of <code>CommerceCheckoutStep</code>.</p>
<blockquote>
<p><strong>Note:</strong> To simplify implementing <code>CommerceCheckoutStep</code>, we extend <code>BaseCommerceCheckoutStep</code> for its base functionality.</p>
</blockquote>
<h3 id="annotate-the-class-for-osgi-registration">Annotate the Class for OSGi Registration</h3>
<pre><code class="java">@Component(
    immediate = true,
    property = {
        &quot;commerce.checkout.step.name=&quot; + N8N6CommerceCheckoutStep.NAME,
        &quot;commerce.checkout.step.order:Integer=21&quot;
    },
    service = CommerceCheckoutStep.class
)
public class N8N6CommerceCheckoutStep extends BaseCommerceCheckoutStep {

    public static final String NAME = &quot;example-step&quot;;
</code></pre>

<blockquote>
<p>The checkout step name must be a unique value so that Liferay Commerce can distinguish our checkout step from existing checkout steps.</p>
<p>The <code>commerce.checkout.step.order</code> value indicates how far into the checkout process the checkout step will appear. For example, the <a href="https://github.com/liferay/com-liferay-commerce/blob/2.0.4/commerce-checkout-web/src/main/java/com/liferay/commerce/checkout/web/internal/util/ShippingMethodCommerceCheckoutStep.java">shipping method checkout step</a> has a value of 20. Giving our checkout step a value of 21 ensures that it will appear immediately after the shipping method step.</p>
</blockquote>
<h3 id="review-the-commercecheckoutstep-interface">Review the <code>CommerceCheckoutStep</code> Interface</h3>
<p>Implement the following methods in addition to extending the base class:</p>
<pre><code class="java">public String getName();
</code></pre>

<blockquote>
<p>This method returns the name of our checkout step. This name may be a language key that corresponds to the name that will appear in the UI.</p>
</blockquote>
<pre><code class="java">public void processAction(
        ActionRequest actionRequest, ActionResponse actionResponse)
    throws Exception;
</code></pre>

<blockquote>
<p>The <code>processAction</code> method may be used to implement business logic with the information passed through the <code>ActionRequest</code> if backend processing is required.</p>
</blockquote>
<pre><code class="java">public void render(
        HttpServletRequest httpServletRequest,
        HttpServletResponse httpServletResponse)
    throws Exception;
</code></pre>

<blockquote>
<p>This will be where we add the code to render a customized screen for our checkout step.</p>
</blockquote>
<h3 id="complete-the-checkout-step">Complete the Checkout Step</h3>
<p>The checkout step is comprised of a custom screen and backend logic to process any input. Do the following:</p>
<ul>
<li><a href="#configure-the-servletcontext-for-the-module">Configure the <code>ServletContext</code> for the module.</a></li>
<li><a href="#implement-the-render-method">Implement the <code>render</code> method.</a></li>
<li><a href="#add-business-logic-to-processaction">Add business logic to <code>processAction</code>.</a></li>
<li><a href="#add-a-jsp-to-render-the-custom-screen">Add a JSP to render the custom screen.</a></li>
<li><a href="#add-the-language-key-to-languageproperties">Add the language key to <code>Language.properties</code>.</a></li>
</ul>
<h4 id="configure-the-servletcontext-for-the-module">Configure the <code>ServletContext</code> for the Module</h4>
<p>Define the <code>ServletContext</code> using the symbolic name of our bundle so that it can find the JSP in our module:</p>
<pre><code class="java">@Reference(target = &quot;(osgi.web.symbolicname=com.acme.n8n6.web)&quot;)
private ServletContext _servletContext;
</code></pre>

<blockquote>
<p>The value we set for <code>osgi.web.symbolicname</code> matches the value for <code>Bundle-SymbolicName</code> in our <a href="liferay-n8n6.zip/n8n6-web/bnd.bnd">bnd.bnd file</a>. These values must match for the <code>ServletContext</code> to locate the JSP.</p>
<p>We also need to declare a unique value for <code>Web-ContextPath</code> in our bnd.bnd file so the <code>ServletContext</code> is correctly generated. In our example, <code>Web-ContextPath</code> is set to <code>/n8n6-web</code>. See <a href="liferay-n8n6.zip/n8n6-web/bnd.bnd">bnd.bnd</a> for a reference on these values.</p>
</blockquote>
<h4 id="implement-the-render-method">Implement the <code>render</code> Method</h4>
<pre><code class="java">@Override
public void render(
        HttpServletRequest httpServletRequest,
        HttpServletResponse httpServletResponse)
    throws Exception {

    _jspRenderer.renderJSP(
        _servletContext, httpServletRequest, httpServletResponse,
        &quot;/terms_and_conditions.jsp&quot;);
}
</code></pre>

<blockquote>
<p>Use a <code>JSPRenderer</code> to render the JSP for our checkout step (in this case, <a href="liferay-n8n6.zip/n8n6-web/src/main/resources/META-INF/resources/terms_and_conditions.jsp">terms_and_conditions.jsp</a>). Provide the <code>ServletContext</code> as a parameter to find the JSP we have created.</p>
</blockquote>
<h4 id="add-business-logic-to-processaction">Add Business Logic to <code>processAction</code></h4>
<p>Our example will display text on a custom screen and does not require backend processing in the <code>processAction</code> implementation.</p>
<h4 id="add-a-jsp-to-render-the-custom-screen">Add a JSP to Render the Custom Screen</h4>
<p>In our example, we are adding placeholder text. You can see the implementation at <a href="liferay-n8n6.zip/n8n6-web/src/main/resources/META-INF/resources/terms_and_conditions.jsp">terms_and_conditions.jsp</a>.</p>
<h4 id="add-the-language-key-to-languageproperties">Add the Language Key to <code>Language.properties</code></h4>
<p>Add the language key and its value to a <a href="liferay-n8n6.zip/n8n6-web/src/main/resources/content/Language.properties">Language.properties</a> file within our module:</p>
<pre><code>example-step=Example Step
</code></pre>

<blockquote>
<p>See <a href="https://help.liferay.com/hc/en-us/articles/360018168251-Localizing-Your-Application">Localizing Your Application</a> for more information.</p>
</blockquote>
<h2 id="conclusion">Conclusion</h2>
<p>Congratulations! You now know the basics for implementing the <code>CommerceCheckoutStep</code> interface, and have added a new checkout step to Liferay Commerce.</p>
<h2 id="additional-information">Additional Information</h2>
<ul>
<li><a href="../../../user-guide/content/pages/checkout/README.md">Checkout</a></li>
<li><a href="https://help.liferay.com/hc/en-us/articles/360018168251-Localizing-Your-Application">Localizing Your Application</a></li>
</ul>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../adding-a-new-product-type/" title="Adding a New Product Type" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Adding a New Product Type
              </span>
            </div>
          </a>
        
        
          <a href="../../../Get-Help/" title="Get Help" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Get Help
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2019 - Liferay, Inc.
          </div>
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../../../assets/javascripts/application.c648116f.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:"../../../.."}})</script>
      
    
  </body>
</html>